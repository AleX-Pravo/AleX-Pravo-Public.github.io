//- Utility
include utils/_variable.pug

- pageTitle = 'services-online'

doctype html
html
    include layout/_head.pug

    body.preload

        = '\n'
        //= Layout =
        #layout
            include layout/_header.pug
            include layout/header/fullscreen-menu/_fullscreen-menu.pug

            //= Main =
            main#main.main
                - topBlock__title = 'we are'
                include module/_about-topBlock.pug
                include module/_about-base.pug
                include module/_about-views.pug

            //= End main =
            = '\n'

        //= End layout =
        include layout/_footer.pug
        include layout/_scripts.pug
        script.
            $(document).ready(function(){
                $('.swiper-object .swiper-container').each(function(index, value) {

                    var menu = ['Slide 1', 'Slide 2', 'Slide 3']

                    var mySwiper = new Swiper(value, {
                        autoplay: {
                            delay: 4900,
                        },
                        slidesPerView: 2,
                        loop: true,
                        mousewheel: true,
                        spaceBetween: 55,

                        pagination: {
                            el: '.swiper-pagination',
                            clickable: true,
                            renderBullet: function (index, className) {
                                return '<span class="' + className + '">' + (menu[index]) + '</span>';
                            },
                            el: '.swiper-pagination',
                            type: 'fraction',
                            clickable: true,
                            renderFraction: function (currentClass, totalClass) {
                                return '<span class="' + currentClass + '"></span>' +
                                    '<div class="line-pagination"><div class="line-pagination__animation"></div></div>' +
                                    '<span class="' + totalClass + '"></span>';
                            }
                        },
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },

                        breakpoints: {
                            // when window width is <= 1080px
                            1080: {
                                slidesPerView: 1,
                            }
                        },
                        on: {
                            init() {
                                setTimeout(() => {
                                window.dispatchEvent(new Event("resize"))
                                }, 200)
                            },
                        },
                    });
                });

            });
