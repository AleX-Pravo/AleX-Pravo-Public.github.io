!function(t){"use strict";var i=function(){function i(i,n){this.options=t.extend({},this.defaults,n),this.$el=i,this.input=t(i).find("input").length>0&&t(i).find("input"),this.$el.append("<ul class='rating-list'/>");for(var a=0;a<this.options.max;a++)this.$el.find("ul").append("<li class='rating-item'/>");var e;(this.initRating(),this.options.readOnly)||(this.$el.on("mouseover.rating-list","li",(e=this,function(t){return e.initRating(e.$el.find("li").index(t.currentTarget)+1)})),this.$el.on("mouseout.rating-list",function(t){return function(){return t.initRating()}}(this)),this.$el.on("click.rating-list","li",function(t){return function(i){return i.preventDefault(),t.setRating(t.$el.find("li").index(i.currentTarget)+1)}}(this)),this.$el.on("rating:change",this.options.change))}return i.prototype.defaults={rating:void 0,max:5,readOnly:!1,change:function(t,i){}},i.prototype.setRating=function(t){return this.options.rating===t&&(t=void 0),this.$el.attr("data-value",t||0),this.input&&this.input.val(t||0),this.options.rating=t,this.initRating(),this.$el.trigger("rating:change",t||0)},i.prototype.initRating=function(t){var i,n,a,e=this.input?parseInt(this.input.val(),10):0,s=t||Math.max(this.$el.attr("data-value")||0,e,this.options.rating||0);for(i=n=1,a=this.options.max;1<=a?n<=a:n>=a;i=1<=a?++n:--n)this.$el.find("li").eq(i-1).removeClass(s>=i?"":"rating-full").addClass(s>=i?"rating-full":"")},i}();t.fn.rating=function(){var n=arguments[0]||[];return this.each(function(){t(this).data("rating")||t(this).data("rating",new i(t(this),n))})}}(jQuery);