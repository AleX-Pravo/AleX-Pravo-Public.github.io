function own_box_show(o,n,e){o=void 0!==o?o:"",n=void 0!==n?n:"",e=void 0!==e&&e,!__ownbox_sender&&o&&(clearTimeout(__ownbox_close_handler),__ownbox_sender=!0,$("#ownbox #box").html('<div class="ownbox-loader" style="position: absolute; top: 50%; left: 50%; width: 24px; height: 24px; margin: -22px 0 0 -22px; padding: 10px; background: rgba(0, 0, 0, .9); border-radius: 5px;"><img src="'+CI_ROOT+'images/loader.gif" alt="loading"></div>'),$.ajax({url:o,type:"POST",data:n,success:function(o){void 0!==o&&null!==o&&o.length&&(own_box_close(),$("#ownbox #box").html(__ownbox_mask+o),$("body").on({mousewheel:function(o){$(o.target).closest("#ownbox").length||(o.preventDefault(),o.stopPropagation())},keyup:function(o){27==o.keyCode&&own_box_close()}}),$("html").addClass("ownbox-lock"),$("#ownbox").css("display","block"),own_box_update(),e&&(__ownbox_close_handler=setTimeout(function(){own_box_close()},e))),__ownbox_sender=!1},error:function(){__ownbox_sender=!1}}).done(function(){}))}function own_box_close(){return $("body").off("mousewheel").off("keyup"),$("#ownbox").hide(),$("html").removeClass("ownbox-lock"),$("#ownbox #box").empty(),void 0!==__ownbox_close_handler&&clearTimeout(__ownbox_close_handler),!0}function own_box_update(){if($("#ownbox #box > .ownbox-content").length&&"block"==$("#ownbox").css("display")){var o=$("#ownbox #box > .ownbox-content").first(),n=o.outerHeight(),e=($("#ownbox #box").height()-$("#ownbox #box > .ownbox-content").outerHeight())/2;$("#ownbox #box").height()>n?o.css("top",e):o.css("top","")}}var __ownbox_close_handler=void 0,__ownbox_mask='<div id="ownbox-mask"></div>',__ownbox_sender=!1;$(document).on("click",".ownbox-form",function(o){o.preventDefault(),"function"==typeof window[$(this).data("before")]&&window[$(this).data("before")]($(this));var n=$(this),e=void 0,t=void 0;return void 0!==n.data("post")&&null!==n.data("post")&&(e=n.data("post")),void 0!==n.data("autoclose")&&null!==n.data("autoclose")&&parseInt(n.data("autoclose"),10)>0&&(t=parseInt(n.data("autoclose"),10)),own_box_show(n.attr("href"),e,t),!1}),$(document).on("click",".ownbox-close, #ownbox-mask",function(o){o.preventDefault(),own_box_close()}),$(window).load(function(){own_box_update()}),$(window).resize(function(){own_box_update()});